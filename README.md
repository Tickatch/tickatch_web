# Tickatch Web

í‹°ì¼€íŒ… ì„œë¹„ìŠ¤ ì›¹ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

TickatchëŠ” í‹°ì¼“ ì˜ˆë§¤ í”Œë«í¼ìœ¼ë¡œ, ê³ ê°(Customer), íŒë§¤ì(Seller), ê´€ë¦¬ì(Admin) ì„¸ ê°€ì§€ ì‚¬ìš©ì ìœ í˜•ì„ ì§€ì›í•©ë‹ˆë‹¤. ê° ì‚¬ìš©ì ìœ í˜•ë³„ë¡œ ë…ë¦½ëœ ë¡œê·¸ì¸ ë° ëŒ€ì‹œë³´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜             | ê¸°ìˆ                                     |
| ---------------- | --------------------------------------- |
| Framework        | Next.js 15 (App Router)                 |
| Language         | TypeScript                              |
| Styling          | Tailwind CSS                            |
| State Management | React Context API, useSyncExternalStore |
| Authentication   | HttpOnly Cookie ê¸°ë°˜ í† í° ê´€ë¦¬          |

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
tickatch_web/
â”œâ”€â”€ .env.local                          # í™˜ê²½ ë³€ìˆ˜
â”œâ”€â”€ public/
â”‚   â””â”€â”€ images/
â”‚       â”œâ”€â”€ logo-customer.png           # ê³ ê°ìš© ë¡œê³ 
â”‚       â”œâ”€â”€ logo-seller.png             # íŒë§¤ììš© ë¡œê³ 
â”‚       â””â”€â”€ logo-admin.png              # ê´€ë¦¬ììš© ë¡œê³ 
â””â”€â”€ src/
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ layout.tsx                  # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
    â”‚   â”œâ”€â”€ page.tsx                    # ë©”ì¸ í˜ì´ì§€ (/)
    â”‚   â”œâ”€â”€ globals.css                 # ê¸€ë¡œë²Œ CSS
    â”‚   â”œâ”€â”€ login/
    â”‚   â”‚   â””â”€â”€ page.tsx                # ê³ ê° ë¡œê·¸ì¸ (/login)
    â”‚   â”œâ”€â”€ seller/
    â”‚   â”‚   â”œâ”€â”€ layout.tsx              # íŒë§¤ì ë ˆì´ì•„ì›ƒ
    â”‚   â”‚   â”œâ”€â”€ page.tsx                # íŒë§¤ì ë©”ì¸ (/seller)
    â”‚   â”‚   â””â”€â”€ login/
    â”‚   â”‚       â””â”€â”€ page.tsx            # íŒë§¤ì ë¡œê·¸ì¸ (/seller/login)
    â”‚   â”œâ”€â”€ admin/
    â”‚   â”‚   â”œâ”€â”€ layout.tsx              # ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ
    â”‚   â”‚   â”œâ”€â”€ page.tsx                # ê´€ë¦¬ì ë©”ì¸ (/admin)
    â”‚   â”‚   â””â”€â”€ login/
    â”‚   â”‚       â””â”€â”€ page.tsx            # ê´€ë¦¬ì ë¡œê·¸ì¸ (/admin/login)
    â”‚   â””â”€â”€ api/auth/                   # Next.js API Routes
    â”‚       â”œâ”€â”€ session/route.ts        # ì„¸ì…˜ ì €ì¥ (í† í°â†’ì¿ í‚¤)
    â”‚       â”œâ”€â”€ me/route.ts             # ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
    â”‚       â””â”€â”€ logout/route.ts         # ë¡œê·¸ì•„ì›ƒ
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ common/
    â”‚   â”‚   â”œâ”€â”€ Header.tsx              # ê³µí†µ í—¤ë”
    â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx         # ë‹¤í¬ëª¨ë“œ í† ê¸€
    â”‚   â”‚   â”œâ”€â”€ NotificationBell.tsx    # ì•Œë¦¼ ë²„íŠ¼
    â”‚   â”‚   â”œâ”€â”€ NotificationDropdown.tsx# ì•Œë¦¼ ë“œë¡­ë‹¤ìš´
    â”‚   â”‚   â””â”€â”€ AuthButton.tsx          # ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼
    â”‚   â””â”€â”€ auth/
    â”‚       â””â”€â”€ LoginCard.tsx           # ë¡œê·¸ì¸ ì¹´ë“œ (ê³µí†µ)
    â”œâ”€â”€ providers/
    â”‚   â”œâ”€â”€ ThemeProvider.tsx           # ë‹¤í¬ëª¨ë“œ Provider
    â”‚   â””â”€â”€ AuthProvider.tsx            # ì¸ì¦ Provider
    â”œâ”€â”€ hooks/
    â”‚   â””â”€â”€ useNotification.ts          # ì•Œë¦¼ ì»¤ìŠ¤í…€ í›…
    â”œâ”€â”€ lib/
    â”‚   â”œâ”€â”€ api-config.ts               # API ì„¤ì •
    â”‚   â””â”€â”€ utils.ts                    # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
    â””â”€â”€ types/
        â””â”€â”€ auth.ts                     # íƒ€ì… ì •ì˜
```

## ğŸ”€ ë¼ìš°íŒ… êµ¬ì¡°

| ê²½ë¡œ            | ì„¤ëª…             | ì¸ì¦ í•„ìš” | OAuth |
| --------------- | ---------------- | :-------: | :---: |
| `/`             | ê³ ê° ë©”ì¸ í˜ì´ì§€ |    âŒ     |   -   |
| `/login`        | ê³ ê° ë¡œê·¸ì¸      |    âŒ     |  âœ…   |
| `/seller`       | íŒë§¤ì ëŒ€ì‹œë³´ë“œ  |    âœ…     |   -   |
| `/seller/login` | íŒë§¤ì ë¡œê·¸ì¸    |    âŒ     |  âŒ   |
| `/admin`        | ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ  |    âœ…     |   -   |
| `/admin/login`  | ê´€ë¦¬ì ë¡œê·¸ì¸    |    âŒ     |  âŒ   |

## ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ

### í† í° ê´€ë¦¬ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ë°±ì—”ë“œ API                                 â”‚
â”‚              (í† í°ì„ JSONìœ¼ë¡œ ì‘ë‹µ - í”Œë«í¼ ë¬´ê´€)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚  { accessToken, refreshToken, userType }
                           â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ëª¨ë°”ì¼ ì•±     â”‚                 â”‚    Next.js      â”‚
â”‚                 â”‚                 â”‚   (ì›¹ ì „ìš©)      â”‚
â”‚  Keychain /     â”‚                 â”‚  í† í° â†’ ì¿ í‚¤ë¡œ   â”‚
â”‚  Secure Storage â”‚                 â”‚  ë³€í™˜í•˜ì—¬ ì €ì¥   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â”‚ Set-Cookie (HttpOnly)
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚    ë¸Œë¼ìš°ì €      â”‚
                                    â”‚  (ì¿ í‚¤ì— ì €ì¥)   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¿ í‚¤ êµ¬ì¡°

| ì¿ í‚¤ëª…          | HttpOnly | ìš©ë„                               |
| --------------- | :------: | ---------------------------------- |
| `access_token`  |    âœ…    | Access Token (JS ì ‘ê·¼ ë¶ˆê°€)        |
| `refresh_token` |    âœ…    | Refresh Token (JS ì ‘ê·¼ ë¶ˆê°€)       |
| `user_type`     |    âŒ    | ì‚¬ìš©ì ìœ í˜• (í´ë¼ì´ì–¸íŠ¸ ì ‘ê·¼ ê°€ëŠ¥) |

### ë³´ì•ˆ íŠ¹ì§•

- **localStorage ë¯¸ì‚¬ìš©**: XSS ê³µê²©ìœ¼ë¡œë¶€í„° í† í° ë³´í˜¸
- **HttpOnly ì¿ í‚¤**: JavaScriptì—ì„œ í† í° ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€
- **ì„œë²„ ì‚¬ì´ë“œ ê²€ì¦**: Next.js API Routesì—ì„œ í† í° ì²˜ë¦¬

## ğŸ¨ UI ì»´í¬ë„ŒíŠ¸

### ê³µí†µ í—¤ë”

- ë¡œê³  ì´ë¯¸ì§€ (ì‚¬ìš©ì ìœ í˜•ë³„ ë‹¤ë¥¸ ì´ë¯¸ì§€)
- ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼
- ì•Œë¦¼ ë²„íŠ¼ (ë¡œê·¸ì¸ ì‹œì—ë§Œ í‘œì‹œ)
  - ì½ì§€ ì•Šì€ ì•Œë¦¼ ì¡´ì¬ ì‹œ ë¹¨ê°„ ì  í‘œì‹œ
  - í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ì•Œë¦¼ ëª©ë¡ í‘œì‹œ
- ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼

### ë¡œê·¸ì¸ ì¹´ë“œ

- ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¡œ 3ê°œ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì¬ì‚¬ìš©
- ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
- ë¡œê·¸ì¸ ìœ ì§€ ì²´í¬ë°•ìŠ¤
- ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€
- OAuth ë¡œê·¸ì¸ (Customerë§Œ)
  - ì¹´ì¹´ì˜¤
  - ë„¤ì´ë²„
  - êµ¬ê¸€

### ë‹¤í¬ëª¨ë“œ

- `useSyncExternalStore` íŒ¨í„´ ì‚¬ìš© (React 19 í˜¸í™˜)
- ì‹œìŠ¤í…œ ì„¤ì • ìë™ ê°ì§€
- ì¿ í‚¤ì— í…Œë§ˆ ì„¤ì • ì €ì¥ (30ì¼)

## âš™ï¸ í™˜ê²½ ë³€ìˆ˜

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env.local` íŒŒì¼ ìƒì„±:

```env
# API ì„œë²„ ì£¼ì†Œ
NEXT_PUBLIC_API_URL=http://localhost:8080/api/v1

# ì¿ í‚¤ ì„¤ì •
COOKIE_NAME=tickatch_session
COOKIE_MAX_AGE=604800
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì‹¤í–‰
npm start
```

## ğŸ–¼ ë¡œê³  ì´ë¯¸ì§€

`public/images/` í´ë”ì— ë¡œê³  íŒŒì¼ ì¶”ê°€:

| íŒŒì¼ëª…              | ìš©ë„                     |
| ------------------- | ------------------------ |
| `logo-customer.png` | ê³ ê°ìš© (ë©”ì¸ ì‚¬ì´íŠ¸)     |
| `logo-seller.png`   | íŒë§¤ììš© (íŒë§¤ì ì„¼í„°)   |
| `logo-admin.png`    | ê´€ë¦¬ììš© (ê´€ë¦¬ì í˜ì´ì§€) |

> ì´ë¯¸ì§€ì— "Tickatch" í…ìŠ¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆì–´ í—¤ë”/ë¡œê·¸ì¸ì—ì„œ ë³„ë„ í…ìŠ¤íŠ¸ í‘œì‹œ ì—†ìŒ

## ğŸ“¡ ë°±ì—”ë“œ API ì—°ë™

### ì¸ì¦ API

| ì—”ë“œí¬ì¸íŠ¸       | ë©”ì„œë“œ | ì„¤ëª…                   |
| ---------------- | ------ | ---------------------- |
| `/auth/login`    | POST   | ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ |
| `/auth/register` | POST   | íšŒì›ê°€ì…               |
| `/auth/logout`   | POST   | ë¡œê·¸ì•„ì›ƒ               |
| `/auth/refresh`  | POST   | í† í° ê°±ì‹               |
| `/auth/me`       | GET    | ë‚´ ì •ë³´ ì¡°íšŒ           |

### OAuth API

| ì—”ë“œí¬ì¸íŠ¸                        | ë©”ì„œë“œ | ì„¤ëª…                    |
| --------------------------------- | ------ | ----------------------- |
| `/auth/oauth/{provider}`          | GET    | OAuth ë¡œê·¸ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ |
| `/auth/oauth/{provider}/callback` | GET    | OAuth ì½œë°± ì²˜ë¦¬         |

## ğŸ“ íƒ€ì… ì •ì˜

```typescript
// ì‚¬ìš©ì ìœ í˜•
type UserType = "CUSTOMER" | "SELLER" | "ADMIN";

// OAuth ì œê³µì
type ProviderType = "KAKAO" | "NAVER" | "GOOGLE";

// ë¡œê·¸ì¸ ì‘ë‹µ
interface LoginResponse {
  authId: string;
  email: string;
  userType: UserType;
  accessToken: string;
  refreshToken: string;
  accessTokenExpiresAt: string;
  refreshTokenExpiresAt: string;
}
```

## ğŸ”§ ê°œë°œ ë…¸íŠ¸

### React 19 í˜¸í™˜ì„±

- `useEffect` ë‚´ ë™ê¸°ì  `setState` í˜¸ì¶œ ê¸ˆì§€
- `useSyncExternalStore` íŒ¨í„´ìœ¼ë¡œ ì™¸ë¶€ ìƒíƒœ ê´€ë¦¬
- í•˜ì´ë“œë ˆì´ì…˜ ë¶ˆì¼ì¹˜ ë°©ì§€

### Tailwind CSS í´ë˜ìŠ¤

- ì—¬ëŸ¬ ì¤„ í´ë˜ìŠ¤ ì‘ì„± ì‹œ `cn()` ìœ í‹¸ë¦¬í‹° ì‚¬ìš©
- Windows CRLF ì¤„ë°”ê¿ˆ ë¬¸ì œ ë°©ì§€
